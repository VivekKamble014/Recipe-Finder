#!/bin/bash

echo "ğŸ”§ Recipe Finder - Jenkins Pipeline Fix"
echo "======================================="

echo "ğŸ“‹ Current Git status:"
git status --short

echo ""
echo "ğŸŒ¿ Current branch:"
git branch

echo ""
echo "ğŸ“ Jenkins Pipeline Fix Instructions:"
echo "====================================="
echo ""
echo "1. Go to Jenkins: http://localhost:8080"
echo "2. Open your job: recipe-finder-deployment"
echo "3. Click 'Configure'"
echo "4. In Pipeline section, choose ONE of these options:"
echo ""
echo "   OPTION A (Recommended - No Git):"
echo "   - Definition: Pipeline script"
echo "   - Script: Copy contents from Jenkinsfile.simple"
echo ""
echo "   OPTION B (Fix Git):"
echo "   - Definition: Pipeline script from SCM"
echo "   - SCM: Git"
echo "   - Repository URL: $(pwd)"
echo "   - Branch Specifier: */main (not */master)"
echo "   - Script Path: Jenkinsfile.local"
echo ""
echo "5. Save and run the build"
echo ""
echo "ğŸ¯ The pipeline will:"
echo "   âœ… Install dependencies"
echo "   âœ… Run linting"
echo "   âœ… Build React app"
echo "   âœ… Build Docker image"
echo "   âœ… Test the image"
echo "   âœ… Deploy to http://localhost:3000"
