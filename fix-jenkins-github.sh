#!/bin/bash

echo "ğŸ”§ Recipe Finder - Jenkins GitHub Fix"
echo "===================================="

echo "âœ… Fixed Jenkinsfile pushed to GitHub!"
echo ""
echo "ğŸ“ Next steps to fix your Jenkins pipeline:"
echo "=========================================="
echo ""
echo "1. Go to Jenkins: http://localhost:8080"
echo "2. Open your job: recipe-finder-deployment"
echo "3. Click 'Configure'"
echo "4. In Pipeline section, verify:"
echo "   - Definition: Pipeline script from SCM"
echo "   - SCM: Git"
echo "   - Repository URL: https://github.com/VivekKamble014/Recipe-Finder.git"
echo "   - Branch Specifier: */main"
echo "   - Script Path: Jenkinsfile"
echo "5. Click 'Save'"
echo "6. Click 'Build Now'"
echo ""
echo "ğŸ¯ What the fixed pipeline will do:"
echo "   âœ… Checkout code from GitHub"
echo "   âœ… Build Docker image (if Docker available)"
echo "   âœ… Test the Docker image"
echo "   âœ… Deploy to http://localhost:3000"
echo ""
echo "ğŸ”§ If Docker is not available in Jenkins:"
echo "   - Use Jenkinsfile.no-docker instead"
echo "   - It will fallback to npm serve"
echo ""
echo "ğŸš€ The pipeline should now work without the kubernetes agent error!"
